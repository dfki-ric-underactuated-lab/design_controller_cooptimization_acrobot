<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Co-optimization of Acrobot Design and Controller for Increased Certifiable Stability</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="style.css" />
  <script
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
  type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
<header id="title-block-header">
<h1 class="title">Co-optimization of Acrobot Design and Controller for
Increased Certifiable Stability</h1>


<p class="author">
    <a href="https://robotik.dfki-bremen.de/de/ueber-uns/mitarbeiter/lama02/">
  
  Lasse Maywald 
        <sup>1</sup>
        </a>
      <a href="https://robotik.dfki-bremen.de/de/ueber-uns/mitarbeiter/fewi01.html">
  
  Felix Wiebe 
        <sup>1</sup>
        </a>
      <a href="https://robotik.dfki-bremen.de/de/ueber-uns/mitarbeiter/shku02.html">
  
  Shivesh Kumar 
        <sup>1</sup>
        </a>
      <a href="https://robotik.dfki-bremen.de/de/ueber-uns/mitarbeiter/maja04/">
  
  Mahdi Javadi 
        <sup>1</sup>
        </a>
      <a href="https://robotik.dfki-bremen.de/de/ueber-uns/mitarbeiter/frki01.html">
  
  Frank Kirchner 
        <sup>1 2</sup>
        </a>
  </p>

<p class="affiliation">

    <a href="https://www.dfki.de/en/web">
  
  German Research Center for Artificial Intelligence 
      <sup>1</sup>
  
    </a>
  <br>
  
    <a href="https://www.uni-bremen.de/">
  
  University of Bremen 
      <sup>2</sup>
  
    </a>
  <br>
  </p>

</header>

<div class="header_links">
  <a href="https://github.com/dfki-ric-underactuated-lab/design_controller_cooptimization_acrobot"><i class="fa fa-github" style="font-size:36px; padding:1em;"></i></a>
  <a href="https://www.researchgate.net/profile/Lasse-Maywald-2/publication/362129400_Co-optimization_of_Acrobot_Design_and_Controller_for_Increased_Certifiable_Stability/links/62d7f662492b5a42c7c32c19/Co-optimization-of-Acrobot-Design-and-Controller-for-Increased-Certifiable-Stability.pdf"><i class="fa fa-file-pdf-o" style="font-size:36px; padding:1em;"></i></a>
</div>
<figure>
<video src="static/IROS22_1444.mp4" height="400" controls=""><a href="static/IROS22_1444.mp4"></a></video><figcaption>Presentation at IROS 2022, Kyoto, Japan</figcaption>
</figure>  
<h2 id="introduction">Introduction</h2>
<p>Recent research on control of walking robots focuses on the study of
undercatuated systems, where taking into account the systems passive
dynamics is required to achieve truly dynamic and energy efficient
behaviours. Many approaches to controlling such systems incorporate
offline trajectory optimization and stabilization using online optimal
control. Furthermore, design optimization can be carried out to optimize
the physical parameters such as masses and link lengths. In this work we
propose a novel a novel approach to co-optimzation of design and control
parameters. The goal of this optimization is maximizing the Region of
attraction (ROA) of a desired state that is associated to a fixed point
of the closed loop dynamics. For a first case study, we consider a
scenario that involves stabilizing an acrobot at its unstable upright
posture using infinite horizon LQR control.</p>
<figure>
<img src="static/figures/motivation.png"
style="display: block; margin: auto; padding: 20px;"
alt="Shared optimality as a result of offline trajectory optimization, online stabilization and design optimization. This work focuses on the interplay of stabilization and design optimization." />
<figcaption aria-hidden="true">Shared optimality as a result of offline
trajectory optimization, online stabilization and design optimization.
This work focuses on the interplay of stabilization and design
optimization.</figcaption>
</figure>
<h2 id="methodology">Methodology</h2>
<p>We employ two black box optimization algorithms, namely
<em>CMA-ES</em> and <em>Nelder-Mead</em> to maximize the volume of the
ROA, which is estimated using a probabilistic method based on najafi.
For this, we consider a quadratic Lyapunov function that is constructed
using the optimal cost-to-go obtained by solving the LQR problem for the
linearized dynamics around the upright pose of the acrobot. In order to
reduce the dimensionality of the problem, we optimize over the physical
design variables and the control variables separately.</p>
<figure>
<img src="static/figures/methodology.png"
style="display: block; margin: auto; padding: 20px;"
alt="Overview of the cooptimization methodology." />
<figcaption aria-hidden="true">Overview of the cooptimization
methodology.</figcaption>
</figure>
<h2 id="case-study">Case Study</h2>
<p>For the acrobot case study, we optimized over both link-lengths, a
point mass at the end of the second link and the diagonal elements of
the <span class="math inline">\(\mathbf{Q}\)</span> and <span
class="math inline">\(\mathbf{R}\)</span> matrices. We intialized the
optimization with <span class="math inline">\(l_1=0.3m\)</span>, <span
class="math inline">\(l_2=0.2m\)</span> and <span
class="math inline">\(m_2=0.63kg\)</span> and identity matrices for
<span class="math inline">\(\mathbf{Q}\)</span> and <span
class="math inline">\(\mathbf{R}\)</span>.</p>
<figure>
<img src="static/figures/combined_results.png"
style="display: block; margin: auto; padding: 20px;"
alt="a) Estimated ROA of the initial (red) and optimized (blue) design projected into the q_1 vs. q_2 plane. Estimated ROA Volume as a function of b) design- and c) control parameters. The green dot marks the optimal solution found by CMA-ES." />
<figcaption aria-hidden="true">a) Estimated ROA of the initial (red) and
optimized (blue) design projected into the <span
class="math inline">\(q_1\)</span> vs. <span
class="math inline">\(q_2\)</span> plane. Estimated ROA Volume as a
function of b) design- and c) control parameters. The green dot marks
the optimal solution found by <em>CMA-ES</em>.</figcaption>
</figure>
<p>After multiple simulations using two different optimizers and
different strategies, the parameters for the best performing design were
found to be <span class="math inline">\(l_1=0.2m\)</span>, <span
class="math inline">\(l_2=0.4m\)</span>, <span
class="math inline">\(m_2=0.22kg\)</span>, <span
class="math inline">\(q_{11}=2.08\)</span>, <span
class="math inline">\(q_{22}=0.15\)</span>, <span
class="math inline">\(q_{33}=0.99 = q_{44}=0.99\)</span> and <span
class="math inline">\(r_{11}=0.62\)</span>. For these parameters the
estimated ROA is significantly larger than for the initial ones as can
be seen in the figure above that also shows the objective function in
different projections of the state space.</p>
<h2 id="citation">Citation</h2>
<p>Maywald, Lasse &amp; Wiebe, Felix &amp; Kumar, Shivesh &amp; Javadi,
Mahdi &amp; Kirchner, Frank. (2022). Co-optimization of Acrobot Design
and Controller for Increased Certifiable Stability.
10.13140/RG.2.2.36436.07043.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bibtex"><code class="sourceCode bibtex"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="va">@misc</span>{<span class="ot">maywald2022</span>,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">author</span> = {Maywald, Lasse and Wiebe, Felix and Kumar, Shivesh and Javadi, Mahdi and Kirchner, Frank},</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">year</span> = {2022},</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">month</span> = {07},</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">pages</span> = {},</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span> = {Co-optimization of Acrobot Design and Controller for Increased Certifiable Stability},</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">doi</span> = {10.13140/RG.2.2.36436.07043}</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<footer>
  <img src="static/logo.svg" style="width:281px">
  <img src="static/ulab.gif" style="width:225px">
  <img src="static/MRock-Logo.png" style="width:198px">
  <img src="static/KiMMI-Logo.png" style="width:60px">
</footer>
</body>
</html>
